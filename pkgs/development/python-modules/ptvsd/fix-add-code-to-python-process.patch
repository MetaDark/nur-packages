diff --git a/src/ptvsd/_vendored/pydevd/pydevd_attach_to_process/add_code_to_python_process.py b/src/ptvsd/_vendored/pydevd/pydevd_attach_to_process/add_code_to_python_process.py
index d2f8e40..c51dc77 100644
--- a/src/ptvsd/_vendored/pydevd/pydevd_attach_to_process/add_code_to_python_process.py
+++ b/src/ptvsd/_vendored/pydevd/pydevd_attach_to_process/add_code_to_python_process.py
@@ -454,7 +454,7 @@ def run_python_code_linux(pid, python_code, connect_debugger_tracing=False, show
     is_debug = 0
     # Note that the space in the beginning of each line in the multi-line is important!
     cmd = [
-        'gdb',
+        '@gdb@/bin/gdb',
         '--nw',  # no gui interface
         '--nh',  # no ~/.gdbinit
         '--nx',  # no .gdbinit
@@ -470,7 +470,7 @@ def run_python_code_linux(pid, python_code, connect_debugger_tracing=False, show
     cmd.extend(["--eval-command='set architecture %s'" % arch])
 
     cmd.extend([
-        "--eval-command='call dlopen(\"%s\", 2)'" % target_dll,
+        "--eval-command='call (void *)dlopen(\"%s\", 2)'" % target_dll,
         "--eval-command='call (int)DoAttach(%s, \"%s\", %s)'" % (
             is_debug, python_code, show_debug_info)
     ])
